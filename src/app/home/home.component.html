<mat-toolbar>
    <span> Catálogo </span>
</mat-toolbar>

<mat-card style="margin:2px; display: none;">
    Link do cardápio digital:
    <a target="new_" href="https://vulto.site/{{servicoapp.getDadosEmpresa().nomemin}}" class="" style="background: #E91E63;
  padding: 10px;
  border-radius: 20px;
  color: white;font-weight: 500;">
    https://site/{{servicoapp.getDadosEmpresa().nomemin}}
  </a>
</mat-card>


<div class="c">
    <button mat-raised-button color="primary" (click)="dialogAddCat()">
    <mat-icon>add</mat-icon> Nova categoria
  </button>
</div>

<mat-form-field class="fotmg" style="margin:20px; width: 90%;" color="primary">
    <mat-label> Filtro </mat-label>
    <input matInput placeholder="Filtrar item do catálogo" #filtrop>
</mat-form-field>

<div *ngIf="!statusloader">
    <mat-progress-bar mode="indeterminate"></mat-progress-bar>
</div>


<span *ngFor="let categoria of servico.getCardapio()">

  <mat-accordion>
    <mat-expansion-panel>
      <mat-expansion-panel-header>
        <mat-panel-title>
          {{ categoria.nome }}
          <span *ngIf="!categoria.esconder"  class="sptrue">Disponível</span>
<span *ngIf="categoria.esconder" class="spfalse">Indisponível</span>

<span *ngIf="!categoria.esgotado" class="sptrue">Ativo</span>
<span *ngIf="categoria.esgotado" class="spfalse">Esgotado</span>
</mat-panel-title>
<mat-panel-description>
    <!--Currently I am {{panelOpenState ? 'open' : 'closed'}}-->
</mat-panel-description>
</mat-expansion-panel-header>

<div style="width: 100%;">
    <mat-list role="list">
        <mat-list-item role="listitem">
            <div class="cc_">
                <div style="    width: 100%;
                margin-top: 10px;
                margin-bottom: 10px;
                display: grid;
                grid-template-columns: 0fr 1fr;">

                    <div>
                        <button mat-button [matMenuTriggerFor]="menu">
                      <mat-icon color="primary">settings</mat-icon>
                    </button>

                        <mat-menu #menu="matMenu">
                            <button mat-menu-item (click)="dialogEditarCar(categoria)">
                        <mat-icon>edit</mat-icon> Editar categoria
                      </button>
                            <button mat-menu-item (click)="removerCat(categoria)">
                        <mat-icon>restore_from_trash</mat-icon> Remover categoria
                      </button>
                        </mat-menu>

                    </div>

                    <div>
                        <button mat-raised-button color="warn" matTooltip="Adicionar novo item" (click)="dialogAddItem(categoria)">
                      <mat-icon>add</mat-icon> Novo item
                    </button>
                    </div>

                </div>
                <div style="width: 100%; font-size: 14px;">

                </div>
            </div>
        </mat-list-item>
    </mat-list>
</div>


<span *ngFor="let item of categoria.itens | nomes:filtrop.value">


        <div class="item-cat">
          <div class="item-imagem" [defaultImage]="servicoapp.getDefaultImage()" [lazyLoad]="item.imagem" offset="100">

          </div>
          <div class="area-dados-item">
            <div class="-item-nome">


              <button mat-button [matMenuTriggerFor]="menu">
                <mat-icon color="warn">settings</mat-icon>
              </button>
              <mat-menu #menu="matMenu">
                <button mat-menu-item (click)="dialogEditarItem(item, categoria)">
                  <mat-icon>edit</mat-icon> Editar item
                </button>
                <button mat-menu-item (click)="onClickConfigurarItem(item, categoria)">
                  <mat-icon>settings</mat-icon> Configurar item
                </button>
                <button mat-menu-item (click)="removerItem(item)">
                  <mat-icon>restore_from_trash</mat-icon> Remover item
                </button>
              </mat-menu>
              #{{item.id}} - {{item.nome}} <span *ngIf="item.itemEstoqueRelacionado !== '0'" > <mat-icon  matTooltip="Item relacionado">compare_arrows</mat-icon> {{item.itemEstoqueRelacionado}} </span>
<span class="dels" *ngIf="item.esgotado === true">
<mat-icon class="mat-18"  matTooltip="Este item está esgotado">warning</mat-icon>
 
</span>
<span class="dels2" *ngIf="item.esconder === true">  
<mat-icon class="mat-18"  matTooltip="Este item está eculto para o clientes">warning</mat-icon>
</span>
</div>
<div class="item-descricao">{{item.descricao}}</div>
<div class="item-preco">{{item.preco | currency:'BRL':true}}</div>
</div>
</div>

</span>

</mat-expansion-panel>
</mat-accordion>
</span>

<!--<div class="area-itens"  >
    <div class="cc_">
      <div style="width: 100%; margin-top: 10px; margin-bottom: 10px;">
        <button mat-button [matMenuTriggerFor]="menu">
          <mat-icon color="primary">settings</mat-icon>
        </button>
        <mat-menu #menu="matMenu">
          <button mat-menu-item (click)="dialogEditarCar(categoria)">
            <mat-icon>edit</mat-icon> Editar categoria
          </button>
          <button mat-menu-item (click)="removerCat(categoria)">
            <mat-icon>restore_from_trash</mat-icon> Remover categoria
          </button>
        </mat-menu>
        {{categoria.nome}}
      </div>
      <div style="width: 100%; font-size: 14px;">
        <button mat-raised-button color="accent"  matTooltip="Adicionar item desta categoria" (click)="dialogAddItem(categoria)">
          <mat-icon>add</mat-icon> Adicionar item
        </button>

      </div>
    </div>
    <span *ngFor="let item of categoria.itens">
      <div class="item-cat">
        <div class="item-imagem" style="background-image: url({{item.imagem}});">

        </div>
        <div class="area-dados-item">
          <div class="-item-nome">


            <button mat-button [matMenuTriggerFor]="menu">
              <mat-icon  color="accent">settings</mat-icon>
            </button>
            <mat-menu #menu="matMenu">
              <button mat-menu-item  (click)="dialogEditarItem(item, categoria)">
                <mat-icon>edit</mat-icon> Editar item
              </button>
              <button mat-menu-item  (click)="onClickConfigurarItem(item, categoria)">
                <mat-icon>settings</mat-icon> Configurar item
              </button>
              <button mat-menu-item (click)="removerItem(item)">
                <mat-icon>restore_from_trash</mat-icon> Remover item
              </button>
            </mat-menu>
            {{item.nome}}
          </div>
          <div class="item-descricao">{{item.descricao}}</div>
          <div class="item-preco">{{item.preco | currency:'BRL':true}}</div>
        </div>
      </div>
    </span>


</div>-->

<div style="height: 1px;  width: 100%; background-color: rgb(209, 222, 223);"></div>